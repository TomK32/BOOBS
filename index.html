<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>B.O.O.B.S. Saves the Day</title>
    <script src='http://olado.github.io/doT/doT.min.js'></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js'></script>
    <script src='Dedalus/src/dedalus.js'></script>
    <script src='Dedalus/src/dedalus-web.js'></script>
    <script src='lib/howler.min.js'></script>
    <link href='Dedalus/src/html/themes/thewriter/story.css' rel='stylesheet'>
    <link href='boobs.css' rel='stylesheet'>
  </head>
  <body>
    <div id='story'>
      <title>
        B.O.O.B.S. Saves the Day (r19)
      </title>
      <initscript>
        story.missions = {}
        story.seen = {}
      </initscript>
      <beforeEveryThing>
        stopSound(story.backgroundSound);
      </beforeEveryThing>
      <beforeEveryPageTurn></beforeEveryPageTurn>
      <beforeEveryParagraphShown></beforeEveryParagraphShown>
      <afterEveryThing></afterEveryThing>
      <afterEveryPageTurn></afterEveryPageTurn>
      <afterEveryParagraphShown></afterEveryParagraphShown>
      <obj id='teleporter-bracelet' inventoryName='Teleporter bracelet'>
        <action id='Examine'>
          You thought those teleporters are sci-fi, well, not in this reality.
        </action>
      </obj>
      <page id='intro'>
        <h3>Start the game</h3>
        Go on,
        <turn to='hall'>start the story.</turn>
        <p></p>
        Welcome to the alternative reality where a secret organization of hackers,
        scientists, and utopists have invented a teleporter and decided to build a
        operational base on the moon, waiting for their time to change the world.
        <h3>Technical notes</h3>
        The author's first language is German, if you happen to find
        grammatical errors feel free to keep them.
        <br>
        The game is first a submission to
        <a href='http://www.ludumdare.com/compo/ludum-dare-27/?action=preview&amp;uid=3562'>Ludum Dare</a>
        compo. The theme was 10 seconds and you'll
        find it referenced within the story. The game will also be a submission to the
        <a href='http://theboobjam.com/'>Boob Jam</a>
        and yes, it's a text adventure.
        <br>
        Overall, the scope of the story is roughly {{ out += countWords(); }} words, far less than
        I had hoped for but it has only one loose end where the next mission would
        start and I plan to write more of those.
        <br>
        One thing I had in mind was some sort of progress bar when you
        find out bits about your past and regain your memory.
        <br>
        The source code can be found on
        <a href='http://github.com/tomk32/boobs'>github.</a>
        <h3>Credits</h3>
        <a href='https://github.com/pistacchio/Dedalus'>Dedalus</a>
        the engine,
        <a href='http://howlerjs.com'>Howler</a>
        to manage the sounds.
        <br>
        Sounds came from
        <a href='http://www.freesound.org/people/reacthor/sounds/130248/'>reacthor</a>
        ,
        <a href='http://www.freesound.org/people/loljames/sounds/116342/'>loljames</a>
        and myself. Audacity has been used to modify the sounds.
        <br>
        Typos have been found by: gabi, iFire
      </page>
      <page class='first' id='start'>
        <h3>Start the game</h3>
        Go on,
        <turn to='hall'>start the story.</turn>
      </page>
      <page id='hall'>
        <character id='miller'>
          <action id='What is this place?'>
            Hello Devi, this is the
            <show paragraph='BOOBS'>B.O.O.B.S.</show>
            secret Moon base.
          </action>
          <action id='Who are you?'>
            I'm Professor Angelica Miller, B.O.O.B.S.' chief scientic officer,
            formerly a
            <show paragraph='rocketscience'>NASA rocket science.</show>
          </action>
          <action id='Why am I here?'>
            You are here because years ago you had this place created by
            robots using the teleporter you invented. But tragically you
            lost your memory on one of your trips home and it took us quite
            some while to find you again. And your
            <show paragraph='sex-change'>sex-change</show>
            before you lost your memory
            didn't make our search easier.
            <br>
            Don't worry, your memory will come back to you.
            <br>
            In the meanwhile take this teleporter bracelet and go to Commander Kaur in the mission control.
            {{ story.putInInventory('teleporter-bracelet'); }}
          </action>
          <paragraph id='rocketscience'>
            Slightly impressed about the first rocket scienist you meet in your life, you ask
            <em>I was teleported here, so where's the space rockets?</em>
            <em>
              Well, we don't have any. Looks like I took the wrong career path, but not all my
              knowledge has become redundant, I'd like to think of myself as a hands-on
              space scientist. That was before I started to hate this low gravity shit.
              <br>
              Oh how I miss the old rocket science, they always allowed me to do the count down:
              10 seconds, 9, 8...
            </em>
            Her mind seems to drift off, you better change the topic quick.
          </paragraph>
          <paragraph id='sex-change'>
            {{ seen('sex-change'); }}
            <em>Wait, I had a sex-change?</em>
            you ask the professor.
            <em>Yes, and if you managed to forget that, it must have been an excellent procedure.</em>
            she continues,
            <em>It is amazing that in our reality you can have this done with weeks.</em>
          </paragraph>
          <paragraph id='BOOBS'>
            <em>What boobs?</em>
            you ask the professor, with a tiny grin in the back of your mind.
            <em>
              B.O.O.B.S., not boobs, is the name of the secret uptopian organization you've created.
              Honestly we don't know what B.O.O.B.S. actually stands for, you never told us.
              And stop grinning about your own terrible jokes.
            </em>
          </paragraph>
        </character>
        <p>
          {{ playBackgroundSound('hall'); }}
          {{? !hasSeen('hall') }}
          {{ seen('hall'); }}
          {{ playSound('teleporter'); }}
          You've just been teleported from Earth into the moonbase's big Hall and a
          <interact with='miller'>woman dressed in a white coat</interact>
          is ushering you off the teleporter platform.
          {{??}}
          You stand in the big Hall and you see
          <interact with='miller'>Professor Miller</interact>
          working on some aparatus by the teleporters.
          {{?}}
        </p>
        <p>
          The Hall has a huge glass ceiling showing nothing but blackness and stars,
          you can also see a slender tower, a lookout aparently and reachable by a
          <turn to='lookout'>spiral staircase.</turn>
          On the far end you see a sort of
          <turn to='missionControl'>control center</turn>
          with a lot of workstation and monitors.
          {{? hasSeen('canteen') }}
          On the left there's the door to the
          <turn to='canteen'>canteen.</turn>
          {{?}}
        </p>
      </page>
      <page id='lookout'>
        {{ playBackgroundSound('static'); }}
        You can see the Earth sneaking over the moon's horizon, all you see of Earth
        is a part of the Pacific Ocean.
        <img src='images/lookout.jpg' width='500px'>
        <p>
          Climb the stairs down
          <turn to='hall'>to the Hall</turn>
        </p>
      </page>
      <page id='missionControl'>
        <p>
          The mission control is just a section of the big
          <turn to='hall'>Hall</turn>
          give it a more overflowing look than it would have as normal room.
          A large grid of displays depicts the earth with a few circles
          around points of interest. In front of this stand a dozen work islands
          with two to four computers each.
        </p>
        <p>
          Between the workplaces
          <turn to='kaurMissionControl'>Cmd Kaur</turn>
          is walking, occassionally talking with one of those at the computers and
          other instruments.
        </p>
      </page>
      <page id='kaurMissionControl'>
        <em>Hello Devi. How are, still recovering from your memory loss?</em>
        {{? !story.isInInventory('teleporter-bracelet') }}
        <br>
        You should go see
        <turn to='hall'>Professor Miller</turn>
        in the Hall and get a teleporter bracelet from her. Come back after you got the gun and
        I might have a mission for you.
        {{??}}
        <ul id='missions'>
          {{? !story.missions.manning }}
          <li>
            <turn to='manning'>Kidnap Chelsea Manning</turn>
          </li>
          {{??}}
          Aparently we've ran out of time and missions.
          But please send the creator of this game
          <a href='mailto:tomk32@gmail.com?subject=I%20want%20to%20talk%20about%20BOOBS'>a few lines of encouragement</a>
          <strong>You finished the game!</strong>
          {{?}}
        </ul>
        {{?}}
        <p>
          <turn to='hall'>Return to the Hall</turn>
        </p>
      </page>
      <page id='manning'>
        Okay Devi, we'll go over to the stationary
        <show paragraph='howTeleportingWorks'>teleporters.</show>
        Private Roldóttir will join us, I can't send you alone on your first mission.
        <paragraph id='howTeleportingWorks'>
          In order for a safe teleport we need to land in a room that is most likely empty.
          That's the reason why we won't teleport directly into Manning's cell but outside of it.
          We'll have to crack the lock but Private Roldóttir is an expert for that.
          <br>
          <turn to='militaryPrison'>Okay, let's teleport.</turn>
        </paragraph>
      </page>
      <page id='militaryPrison'>
        <character id='rememberingProfMiller'>
          <action id='Something about laser guns'>
            <em>I think she mentioned laser guns.</em>
            <br>
            <em>I'm sorry dear,</em>
            Commander Kaur interrupts,
            <em>we don't have any guns at all.</em>
          </action>
          <action id='My past before my memory loss'>
            <when>hasSeen('sex-change')</when>
            She said I had a sex-change before my memory loss. I have the XY chromosoms we need for the lock!
            <turn to='militaryPrisonCell'>Let's open this door!</turn>
          </action>
          <action id='The force is strong'>
            <when>!hasSeen('sex-change')</when>
            I think she said the force is strong with me, let's try
            <turn to='endPrison'>break that dooor.</turn>
          </action>
          <action id="Nevermind: Let's abort the mission!">
            <when>!hasSeen('sex-change')</when>
            It's no hope, we need to get back to base and think about a way to break the door.
            <turn to='hallManning'>Teleport back to the moon.</turn>
          </action>
        </character>
        <p>
          {{ playSound('teleporter'); }}
          Your second ever, well, as far as you can remember, teleport felt a lot easier
          than the last one. Perhaps it's just using the teleporter pads instead of the
          bracelet that makes the jumps feel more comfortable.
          <show paragraph='two'>cont.</show>
        </p>
        <paragraph id='two'>
          <img src='images/prison-corridor.jpg' width='500px'>
          <p>
            You are in a darkish, narrow corridor. You landed at what you consider the far end
            of the corridor, right in front of a door. Cmd Kaur knocks on the door and from
            inside the distinct but faint voice of Chelsa Manning asks who's there.
            <em>Yup, that's the right one. Hello Chelsea Manning, we're here to get you out.</em>
            <turn to='prisonDoor'>cont.</turn>
          </p>
        </paragraph>
      </page>
      <page id='prisonDoor'>
        Private Roldóttir is already having a look at the electronic lock.
        <em>
          Commander, there's a little problem, it's not the lock I expected.
          They installed an additional electronic lock, specifically for male prisons,
          the only lock on the planet that's doing super fast genetic tests.
          Originally designed for Mormon households, adapted by a few states
          to decrease bribery and prostitution in county prisons...
        </em>
        <em>
          Oh I see, I'm boring you with details.
          In short: We need someone with XY chromosoms to open this door.
        </em>
        <turn to='gettingIntoTheCell'>The three of us, we are all women. What now?</turn>
      </page>
      <page id='endPrison'>
        The three of you slam against the door, hit the electronic locks but to now prevail.
        In the process you damage your teleporter-bracelet and it gives a strong electric
        hit to everyone. You lose.
        {{ story.endGame(); }}
      </page>
      <page id='gettingIntoTheCell'>
        <dl class='dialog'>
          <dt>Cmd Kaur</dt>
          <dd>We couldn't just break through the door?</dd>
          <dt>Private Roldóttir</dt>
          <dd>No it's to heavy</dd>
          <dt>Devi</dt>
          <dd>How about teleporting?</dd>
          <dt>Cmd Kaur</dt>
          <dd>
            No, our bracelets have only enough energy for one teleport, we do have a spare one,
            but that's for Chelsea.
          </dd>
          <dt>Devi</dt>
          <dd>
            Oh wait a second, I remember
            <interact with='rememberingProfMiller'>something Professor Miller said to me!</interact>
          </dd>
        </dl>
      </page>
      <page id='militaryPrisonCell'>
        The air inside the cell is surprisingly fresh, Manning standin at the far end
        of the small cell, looking confused about the three female "visitors".
        <dl>
          <dt>Manning</dt>
          <dd>Who are you? Why are you in here?</dd>
          <dt>Cmd Kaur</dt>
          <dd>We are here to rescue you, take this bracelet and put it around your wrist</dd>
        </dl>
        She shows him her own bracelet to give him a bit more security about the whole
        situation and her request. While he's it putting, Roldóttir grabs the hands of
        Devi and the Commander, Devi remember this from today's first teleport, searching
        Kaur's face for a nod and as Manning is finished they grab her hands and
        Manning's question
        <em>And what's next?</em>
        fades in the empty cell as they
        <turn to='hallManning'>teleport to the moon.</turn>
        {{ story.missions.manning = true; }}
      </page>
      <page id='hallManning'>
        {{ playSound('teleporter'); }}
        {{ playBackgroundSound('hall'); }}
        {{? story.missions.manning }}
        The teleport completes and Chelsea Manning, still waiting for a reply to her
        question, needs a few seconds to realize the change in light, air and location.
        <dl>
          <dt>Manning</dt>
          <dd>What the hell is going on?</dd>
          <dt>Cmd Kaur</dt>
          <dd>
            Don't worry, you are save here. We are a secret organization which is trying
            to change the world. And you're the first we rescued of the imprisoned hackers, journalists,
            artists, well anyone who's in prison for speaking their mind or obeys orders
            and follows their conscience.
            <br>
            Oh, and welcome to the Moon.
          </dd>
          <dt>Mannin</dt>
          <dd>The Moon?</dd>
          <dt>Professor Miller</dt>
          <dd>
            Yes, the Moon. My name is Professor Miller, if you please would like to follow me,
            I bet you want to get some nicer clothes and try the best cantine this side of the Moon.
          </dd>
        </dl>
        The two leave the scene and
        <show paragraph='debriefingRoldottir'>Cmd Kaur turns to the Private</show>
        {{??}}
        You arrive at the Hall, the mission failed.
        <br>
        <show paragraph='debriefingRoldottir'>Cmd Kaur turns to the Private</show>
        {{?}}
        <paragraph id='debriefingRoldottir'>
          <dl>
            <dt>Cmd Kaur</dt>
            <dd>
              What was going on down there? I thought our last intel regarding the lock
              was only a few days old.
            </dd>
            <dt>Roldóttir</dt>
            <dd>I don't know Commander, but the genetic lock looked like it was installed only yesterday.</dd>
            <dt>Cmd Kaur</dt>
            <dd>Okay, we'll leave it at that. Dismissed Private.</dd>
            <dd>
              <show paragraph='debriefingDevi'>Now Devi, your memory is still not fully recovered?</show>
            </dd>
          </dl>
        </paragraph>
        <paragraph id='debriefingDevi'>
          <em>No,</em>
          you reply,
          <em>and I can't still imagine that I was involved in creating all this.</em>
          <br>
          <em>Not just involved, Devi, you started it!</em>
          <br>
          <em>
            Well, you must be hungry, the
            <turn to='canteen'>canteen</turn>
            is one of the
            oldest facilities we have, maybe a visit there and a good meal will bring back some memories.
            You find me in the mission control when you are ready for the next operation.
          </em>
        </paragraph>
      </page>
      <page id='canteen'>
        {{ seen('canteen'); }}
        Indeed the canteen, just through where the Professor and Manning left, looked
        older than the big Hall. I guess you have to make small steps when landing on the Moon.
        <br>
        On the left you see a self-service area. Tables of different size and comfy looking chairs take the
        most of this rectangular hall. At the far side you see the only windows, some reaching
        from the bottom to the top of the four meter high walls. Outside you think you can see a
        a
        <show paragraph='crashedSaucer'>crashed flying saucer.</show>
        <p>
          Return to the big
          <turn to='hall'>Hall</turn>
          or the
          <turn to='missionControl'>Mission Control</turn>
        </p>
        <paragraph id='crashedSaucer'>
          There's nothing special about this one, you remember history lessons in school
          about the
          <a href='#' title='This is an alternative reality after all'>Area 51 incident</a>
          how those poor aliens in their rather primitive
          rescue pods crashed on earth. They didn't survive Earth's athmosphere for long
          and President Eisenhower granted them a state funeral. Just in case their
          relatives stopped by. But you can't remember any reports about a pod crashing
          onto the Moon.
        </paragraph>
      </page>
      <page id='barretBrown'></page>
      <page id='london'></page>
      <page id='gulag'></page>
      <page id='rio'></page>
      <page id='tauCeti'></page>
    </div>
    <div id='wrapper'>
      <div id='header'>
        <h1>
          <a href='/' id='title'></a>
        </h1>
        <small>
          An
          <a href='http://ananasblau.com/'>Ananasblau Games</a>
          production •
          <a href='http://ananasblau.com/subscribe_newsletter'>Subscribe the newsletter!</a>
          <br>
          Like it? Why not
          <a href='http://freebarrettbrown.org'>free Barrett Brown</a>
          or
          <a href='http://www.indiegogo.com/projects/devi-ever-s-fancy-new-vagina'>donate for Devi Ever's fancy new vagina</a>
        </small>
      </div>
      <div id='inventoryHostWrapper'>
        <h2>Inventory</h2>
        <div id='inventoryHost'></div>
      </div>
      <div id='host'></div>
      <div class='clear'></div>
      <hr>
    </div>
  </body>
  <div id='interactionHost'></div>
  <div id='undoStageHost'></div>
  <div id='footer'>
    <a href='#' id='undoHost'>Undo</a>
    &bull;
    <a href='#' id='saveHost'>Save</a>
    &bull;
    <a href='#' id='restoreHost'>Restore</a>
    &bull;
    <a href='#' id='resetHost'>Reset</a>
  </div>
  <script>
    $(function () {
        new DedalusWeb({
            domSource         : $('#story'),
            domTarget         : $('#host'),
            titleTarget       : $('#title'),
            inventoryTarget   : $('#inventoryHost'),
            interactionTarget : $('#interactionHost'),
            undoTarget        : $('#undoHost'),
            undoStageTarget   : $('#undoStageHost'),
            saveTarget        : $('#saveHost'),
            restoreTarget     : $('#restoreHost'),
            resetTarget       : $('#resetHost'),
        });
    });
    function seen(what) {
      if(!story.seen) { story.seen = {}; }
      story.seen[what] = true;
    }
    function hasSeen(what) {
      return story.seen && story.seen[what];
    }
    sounds = {}
    soundBase = 'sounds/';
    function stopSound(file) {
      if (typeof(file) != 'undefined' && window.sounds[file]) {
        window.sounds[file].stop();
      }
    }
    function playSound(file, options) {
      if (!window.sounds[file]) {
        files = [soundBase + file + '.mp3', soundBase + file + '.ogg']
        window.sounds[file] = new Howl($.extend(options, {
          urls: files
        }));
      }
      window.sounds[file].play();
    }
    function playBackgroundSound(file) {
      stopSound(story.backgroundSound)
      playSound(file, {loop: true})
      story.backgroundSound = file
    }
    function countWords() {
      return $('page').not('#intro').text()
        .replace(/(^\s*)|(\s*$)/gi,"")
        .replace(/\{\{.*?\}\}/g, '')
        .replace(/[\r\n]+/g," ")
        .replace(/[ \t]+/gi," ")
        .split(' ').length ;
    }
  </script>
</html>
